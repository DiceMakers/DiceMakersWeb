<!DOCTYPE html>
<html>

<head>
	<!-- Tab Icon / Title -->
	<link rel="icon" href="d20.png">
	<title>DiceMakers - The Design Podcast</title>

	<!-- Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>

<!-- Constants -->
<script type="text/javascript">
	// Brand Links
	const SpotifyURL = "https://open.spotify.com/show/0LG7yxZXVmrVH7DiaWuyYG";
	const YoutubeURL = "https://www.youtube.com/@TheDiceMakers";
	const InstagramURL = "https://www.instagram.com/thedicemakers/";

	// Latest Episode
	const LatestYoutubeURL = "https://www.youtube.com/@TheDiceMakers";
	const LatestSpotifyURL = "https://open.spotify.com/show/0LG7yxZXVmrVH7DiaWuyYG";

	// Website Pages
	const Pages = {
		Home: "home",
		Episodes: "episodes",
		About: "about",
	};
</script>

<style>
	:root {
		--color-base: #3c455e;
		--color-light: #7284af;
		--color-lighter: #d6d4ce;
		--color-lighter-transparent: #d6d4ce66;
		--color-text: #6b6661;
		--color-text-light: #d6d4ce;
		--color-text-dark: black;

		--title-shadow: #030303 2px 2px 0px;

		--font-body: "Roboto", sans-serif;
		--font-title: "Bebas Neue", sans-serif;
	}

	body {
		background-color: var(--color-base);
		color: var(--color-text);
		font-family: var(--font-body);
		font-weight: 400;
		font-style: normal;
		font-size: 30px;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6,
	p {
		margin: 0px;
	}

	#root {
		display: flex;
		flex-direction: column;
		min-height: 100vh;
		margin: 0;
	}

	.page-header {
		background-color: var(--color-base);
	}

	.page-header-bar {
		background-color: var(--color-light);
		height: 3px;
	}

	.nav-links {
		display: flex;
		flex-direction: column;
		justify-content: end;
	}

	.nav-links>ul {
		margin: 0px;
		padding: 0px;
		list-style-type: none;
		display: flex;
		flex-direction: row;
		align-items: center;
	}

	.nav-links>ul>li {
		height: 100%;
		display: flex;
		align-items: flex-end;
	}

	.nav-links>ul>li>button {
		padding: 10px;
		margin-right: 5px;
		background-color: transparent;
		border: none;

		color: var(--color-text-light);
		font-family: var(--font-body);
		font-weight: 500;
		font-style: normal;
		font-size: 20px;
		cursor: pointer;
	}

	.nav-links>ul>li>button:hover {
		background-color: var(--color-light);
	}

	.nav-link-img {
		height: 1.5em;
		margin-bottom: -5px;
	}

	.page-title {
		background-color: var(--color-base);
		border: none;
		cursor: pointer;
	}

	.page-title>h1 {
		font-family: var(--font-title);
		font-weight: 400;
		font-style: normal;
		font-size: 3em;
		text-align: center;
		color: var(--color-lighter);
		text-shadow: var(--title-shadow);
	}

	.subtitle {
		font-size: 150%;
	}

	.page-section {
		width: 100%;
		margin: 0px;
		padding: 0px;
		padding-top: 10px;
		padding-bottom: 10px;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.page-section-mapbg {
		background: url(./bg_map.png);
		background-size: cover;
	}

	.page-section-gridbg {
		background: url(./bg_grid.png);
		background-size: cover;
	}

	.page-section-default {
		background-color: var(--color-base);
		color: var(--color-text-light);
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	#page-contents {
		margin: 0px;
		flex-grow: 1;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.page-footer {
		display: flex;
		flex-direction: column;
		align-items: center;
		padding: 20px;
		background-color: var(--color-base);
		color: var(--color-text-light);
	}

	.section-title {
		color: var(--color-text-light);
		font-family: var(--font-title);
		font-weight: 400;
		font-style: normal;
		font-size: 250%;
		margin-top: 30px;
		margin-bottom: 30px;
	}

	.section-title-dark {
		color: var(--color-text);
	}

	.dm-episode {
		/* background-color: var(--color-light); */
		background: url("bg_grid.png");
		background-size: cover;
		color: var(--color-text);
		min-width: 600px;
		width: 700px;

		display: flex;
		flex-direction: column;
		align-items: center;

		margin: 5px;
		border-radius: 20px;
		padding: 20px;
	}

	.dm-episode-player {
		margin-top: 20px;
		margin-bottom: -70px;
		width: 100%;
	}

	.dm-episode-text {
		display: block;
		text-align: center;
		max-width: 80%;
		padding: 10px;
	}

	.dm-episode-links {
		display: flex;
		flex-direction: row;
	}

	.dm-episode-links>* {
		padding: 5px;
	}

	.horizontal-line {
		height: 2px;
		width: 35%;
		background-color: var(--color-text-light);
	}

	.copyright {
		margin-top: 10px;
		text-align: center;
		color: var(--color-text-light)
	}
</style>

<body id="root">
	<!-- Header Bar -->
	<header class="page-header" style="display: flex; justify-content: center;">
		<div style="display: flex;">
			<button class="page-title" onclick="changePage(Pages.Home)">
				<h1 style="align-self: flex-end;">Dice Makers</h1>
			</button>
		</div>
		<nav class="nav-links" style="padding-left: 100px;">
			<ul>
				<li><button onclick="changePage(Pages.Home)">Home</button></li>
				<li><button onclick="changePage(Pages.Episodes)">Episodes</button></li>
				<li><button onclick="changePage(Pages.About)">About</button></li>
				<li><button onclick="openLink(SpotifyURL)">
						<img class="nav-link-img" src="./logo_spotify_small.png"></img>
					</button></li>
				<li><button onclick="openLink(InstagramURL)">
						<img class="nav-link-img" src="./logo_instagram_small.png"></img>
					</button></li>
				<!-- <li><button onclick="openLink(YoutubeURL)">
						<img class="nav-link-img" src="./logo_youtube_small.png"></img>
					</button></li> -->
			</ul>
		</nav>
	</header>
	<div class="page-header-bar"></div>

	<!-- Page Contents -->
	<main id="page-contents">
		<!-- Page contents will be inserted here by navigation code -->
	</main>

	<!-- Footer Bar -->
	<div class="page-header-bar"></div>
	<footer class="page-footer">
		<p style="margin-bottom: 15px;">Thanks for listening &lt;3</p>
		<div class="horizontal-line"></div>
		<nav class="nav-links">
			<ul>
				<li><button onclick="changePage(Pages.Home)">Home</button></li>
				<li><button onclick="changePage(Pages.Episodes)">Episodes</button></li>
				<li><button onclick="changePage(Pages.About)">About</button></li>
			</ul>
		</nav>
		<nav class="nav-links">
			<ul>
				<li><button onclick="openLink(SpotifyURL)">
						<img class="nav-link-img" src="./logo_spotify_small.png"></img>
					</button></li>
				<li><button onclick="openLink(InstagramURL)">
						<img class="nav-link-img" src="./logo_instagram_small.png"></img>
					</button></li>
				<!-- <li><button onclick="openLink(YoutubeURL)">
						<img class="nav-link-img" src="./logo_youtube_small.png"></img>
					</button></li> -->
			</ul>
		</nav>
		<p class="copyright">Â© 2024 The DiceMakers</p>
	</footer>

	<!-- Custom HTML Element: EpisodeElement -->
	<script type="text/javascript">
		class EpisodeElement extends HTMLElement {
			static observedAttributes = ["img"];

			constructor() { super(); }
			connectedCallback() { this.updateHTML(); }

			updateHTML() {
				let title = this.attributes.title?.value ?? '';
				let text = this.attributes.description?.value ?? '';
				let spotify = this.attributes.spotify?.value ?? '';
				// let youtube = this.attributes.youtube?.value ?? '';

				let html = `
				<div class='dm-episode'>
					<h3>${title}</h3>
					<div class="dm-episode-text">${text}</div>`;

				// Links
				if (false) { // Disabled at the moment
					html += `
					<div class="dm-episode-links">`
					if (spotify !== '')
						html += `<a href="https://open.spotify.com/episode/${spotify}">Listen on Spotify</a>`;
					// if (youtube !== '')
					// 	html += `<a href="https://www.youtube.com/watch?v=${youtube}">Listen on YouTube</a>`;
					html += `
					</div>`;
				}

				// Spotify Embedded Player
				if (spotify !== '') {
					html += `
					<div class="dm-episode-player">
						<iframe style="border-radius:12px"
							src="https://open.spotify.com/embed/episode/${spotify}?utm_source=generator&t=0"
							width="100%"
							frameBorder="0"
							allowfullscreen=""
							allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
							loading="lazy">
							<a href="https://open.spotify.com/episode/${spotify}">Listen on Spotify</a>
						</iframe>
					</div>`;
				}


				html += `
				</div>`;

				this.innerHTML = html;
			}
		}
		customElements.define("dm-episode", EpisodeElement);
	</script>

	<!-- Navigation -->
	<script type="text/javascript">
		async function changePage(pageID) {
			if (pageID === undefined || pageID === null || pageID === "")
				return;

			let contents = document.getElementById("page-contents");
			try {
				let response = await fetch(`./${pageID}.html`);
				if (response.ok)
					contents.innerHTML = await response.text();
				else
					contents.innerHTML = `<div style="padding: 50px; color: var(--color-text-light);">Page Not Found!<div>`

				history.pushState({ "page": pageID }, pageID, `#${pageID}`);
			}
			catch { }
		}
		function openLink(url) {
			window.open(url, '_blank').focus();
		}

		// Load the Home Page by default
		window.onload = () => {
			let page = window.location.hash;
			if (page !== '')
				changePage(page.substring(1));
			else
				changePage(Pages.Home);
		}
		window.addEventListener("popstate", function (e) {
			if (e.state.page != null)
				changePage(e.state.page);
		});
	</script>
</body>

</html>